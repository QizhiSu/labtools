% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/metadata_extraction.R
\name{assign_meta}
\alias{assign_meta}
\title{Assign structural metadata (SMILES, InChIKey, InChI) to your dataset}
\usage{
assign_meta(data, meta_file)
}
\arguments{
\item{data}{A data.frame or tibble, typically the result after running \code{extract_meta()}.
Must contain a "Name" column for matching.}

\item{meta_file}{A text-based file (e.g., *.csv or *.txt) containing at least "Name" and "SMILES",
and optionally "InChIKey" and "InChI". File can be created manually or generated from MOL files.
Supported formats include CSV, TSV, Excel, and other formats supported by \code{\link[rio]{import}}.}
}
\value{
A data.frame or tibble with missing SMILES, InChIKey, and InChI values filled in where available.
Only missing values are updated; existing values are preserved.
}
\description{
If some compounds are not found in PubChem, \code{extract_meta()} will not
retrieve their structural information such as SMILES, InChIKey, or InChI.
This function provides a way to manually assign these values based on name matching.
}
\details{
A metadata file (e.g., CSV or TXT) containing at least compound names and SMILES is required.
Column names in the file are case-insensitive and must include "Name" and "SMILES".
If available, "InChIKey" and "InChI" will also be assigned.

There are two ways to prepare this metadata file:
\enumerate{
\item Manually create a file with at least "Name" and "SMILES" columns.
\item Convert MOL files into a structured table using
\code{combine_mol2sdf()} and \code{extract_structure()} from the
\pkg{mspcompiler} package:
\url{https://github.com/QizhiSu/mspcompiler}.
}

The function performs case-insensitive, whitespace-trimmed matching between compound names
in the main dataset and the metadata file. This ensures robust matching even with minor
formatting differences.

Column name matching is also case-insensitive for flexibility in input file formats.
}
\note{
Compound names in your metadata file must match those in your main dataset for successful
assignment. Consider standardizing compound names before using this function.
}
\examples{
\dontrun{
# Assuming you have a CSV file with compound metadata
data_with_meta <- assign_meta(my_data, "compound_metadata.csv")

# The metadata file should have columns like:
# Name, SMILES, InChIKey, InChI
# "benzene", "c1ccccc1", "UHOVQNZJYSORNB-UHFFFAOYSA-N", "InChI=1S/C6H6/c1-2-4-6-5-3-1/h1-6H"
}

}
